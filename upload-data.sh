#!/bin/bash

echo "Starting CraftscapeHK data upload..."
echo ""

echo "Clearing existing data..."
npx convex run insertData:clearTable '{"table": "crafts"}'
npx convex run insertData:clearTable '{"table": "artisans"}'
npx convex run insertData:clearTable '{"table": "products"}'
npx convex run insertData:clearTable '{"table": "events"}'
npx convex run insertData:clearTable '{"table": "orders"}'
npx convex run insertData:clearTable '{"table": "messageThreads"}'
npx convex run insertData:clearTable '{"table": "chatMessages"}'
npx convex run insertData:clearTable '{"table": "faceProfiles"}'
npx convex run insertData:clearTable '{"table": "glyphs"}'

echo ""
echo "Uploading CRAFTS data..."
npx convex run insertData:insertData '{"table": "crafts", "data": [{"craftId":1,"name":{"zh":"手繪瓷器 (Canton Porcelain)","en":"Hand-painted Porcelain (Canton Porcelain)"},"artisan":{"zh":"張師傅","en":"Master Zhang"},"short_description":{"zh":"百年傳承的釉上彩繪藝術","en":"A century-old art of on-glaze painting"},"full_description":{"zh":"廣彩，全稱「廣州織金彩瓷」，是清代以來在廣州地區發展起來的釉上彩繪瓷器工藝。它以色彩絢麗、構圖飽滿、金碧輝煌著稱，是東西方文化交融的結晶。","en":"Canton Porcelain, also known as Guangzhou Weaving Gold Painted Porcelain, is an on-glaze painted porcelain craft developed in Guangzhou since the Qing Dynasty. It is renowned for its brilliant colors, full compositions, and splendid golden decorations, representing a fusion of Eastern and Western cultures."},"images":["https://gw.alicdn.com/imgextra/i1/2356757853/O1CN01ejsxjZ27sixqTgpGx_!!0-item_pic.jpg_Q75.jpg_.webp"],"history":{"zh":"廣彩始於清朝康熙晚期，盛於雍正、乾隆年間。當時廣州作為唯一的對外通商口岸，將景德鎮的白瓷胎運來，根據外商訂單加以彩繪，再出口海外，風靡歐洲。","en":"Canton Porcelain originated in the late Kangxi period of the Qing Dynasty and flourished during the Yongzheng and Qianlong eras. At that time, Guangzhou was the sole port for foreign trade. White porcelain bodies from Jingdezhen were shipped here, painted according to foreign orders, and then exported, becoming highly popular in Europe."},"story":{"zh":"張師傅是廣彩世家的第三代傳人。他的祖父曾在廣州十三行開設瓷器作坊。張師傅從小耳濡目染，不僅繼承了傳統技法，更嘗試將現代設計元素融入創作，希望這門古老手藝能被更多年輕人喜愛。","en":"Master Zhang is the third-generation heir of a Canton Porcelain family. His grandfather once ran a porcelain workshop in the Thirteen Factories of Canton. Master Zhang, immersed in this art from a young age, has not only inherited traditional techniques but also tries to integrate modern design elements into his creations, hoping this ancient craft will be appreciated by more young people."}},{"craftId":2,"name":{"zh":"霓虹燈招牌 (Neon Sign)","en":"Neon Sign"},"artisan":{"zh":"劉師傅","en":"Master Lau"},"short_description":{"zh":"點亮香港夜空的視覺符號","en":"The visual symbol that lights up Hong Kong night sky"},"full_description":{"zh":"霓虹燈招牌曾是香港繁華都市景觀的代名詞。師傅們用火焰和巧手，將玻璃管彎曲成各種文字和圖案，再注入惰性氣體，通電後發出迷人光芒。","en":"Neon signs were once synonymous with Hong Kong bustling cityscape. Artisans use flame and skill to bend glass tubes into various characters and patterns, then fill them with inert gas, which emits a charming glow when electrified."},"images":["https://images.unsplash.com/photo-1653402265323-669169d9e5c2?q=80&w=687&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://image5.sixthtone.com/image/5/66/29.jpg"],"history":{"zh":"1920年代，霓虹燈技術傳入香港，並在二戰後迎來黃金時代。大街小巷掛滿了各式各樣的霓虹招牌，成為香港獨特的賽博朋克美學象徵。然而，隨著LED等新技術的興起，這門手藝正瀕臨失傳。","en":"Neon technology was introduced to Hong Kong in the 1920s and saw its golden age after World War II. Streets and alleys were filled with various neon signs, becoming a unique symbol of Hong Kong cyberpunk aesthetics. However, with the rise of new technologies like LED, this craft is on the verge of extinction."},"story":{"zh":"入行四十多年的劉師傅，見證了霓虹燈行業的起起落落。他堅持用傳統方法製作每一件作品，從吹管、屈管到抽真空、充電，一絲不苟。對他而言，霓虹燈不僅是照明工具，更是一種有溫度、有靈魂的藝術品。","en":"Master Lau, with over forty years in the industry, has witnessed the ups and downs of the neon sign business. He insists on using traditional methods for every piece, from glass blowing and bending to vacuuming and charging, with meticulous care. To him, a neon sign is not just a lighting tool but a warm, soulful piece of art."}},{"craftId":3,"name":{"zh":"手雕麻雀 (Mahjong Tile Carving)","en":"Hand-carved Mahjong Tiles"},"artisan":{"zh":"陳師傅","en":"Master Chan"},"short_description":{"zh":"指尖上的智慧與博弈","en":"Wisdom and strategy at your fingertips"},"full_description":{"zh":"在機器雕刻普及之前，每一隻麻雀牌都由師傅用雕刻刀在牛骨或塑膠上精心雕琢而成。這門手藝不僅考驗刀功，更需要極大的耐心和眼力。","en":"Before machine carving became common, each mahjong tile was meticulously carved by an artisan with a knife on bone or plastic. This craft requires not only excellent carving skills but also immense patience and sharp eyesight."},"images":["https://images.unsplash.com/photo-1698270931936-3b8ece9d981d?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],"history":{"zh":"麻雀的歷史源遠流長，而手雕麻雀的技藝在20世紀中葉的香港最為鼎盛。當時麻雀是家家戶戶主要的娛樂活動，對麻雀牌的需求極大，養活了許多手雕師傅。","en":"Mahjong has a long history, and the art of hand-carving tiles peaked in Hong Kong in the mid-20th century. At that time, mahjong was a primary form of entertainment for households, creating a huge demand for tiles and supporting many carving masters."},"story":{"zh":"陳師傅是香港碩果僅存的手雕麻雀師傅之一。他的小店隱藏在九龍的舊區，幾十年來，工作台上堆滿了雕刻刀和牌塊。他感嘆現在已經很少有人願意入行，但他依然堅持，希望為後人留下這份屬於香港人的集體回憶。","en":"Master Chan is one of the last remaining hand-carved mahjong tile masters in Hong Kong. His small shop is hidden in an old district of Kowloon, his workbench piled high with carving tools and tiles for decades. He laments that few are willing to enter the trade now, but he perseveres, hoping to preserve this piece of collective memory for Hong Kongers."},"category":"mahjong"},{"craftId":4,"name":{"zh":"中式長衫 (Cheongsam)","en":"Cheongsam Making"},"artisan":{"zh":"王師傅","en":"Master Wong"},"short_description":{"zh":"展現東方女性美的經典服飾","en":"Classic attire that showcases Eastern female beauty"},"full_description":{"zh":"香港的長衫製作技藝以其精湛的剪裁和手工聞名，被稱為「海派」風格。它貼合女性身體曲線，優雅含蓄，是中西合璧的時尚典範。","en":"Hong Kong cheongsam-making is renowned for its exquisite tailoring and craftsmanship, known as the Shanghai style. It fits the female body curves, is elegant and subtle, and a prime example of fashion that blends Eastern and Western aesthetics."},"images":["https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/A_White_cheongsam_at_Shum_Shui_Po.jpg/1024px-A_White_cheongsam_at_Shum_Shui_Po.jpg?20211210172938"],"history":{"zh":"1920年代，長衫在上海興起，後隨大量上海裁縫南下傳入香港，並在香港發揚光大。從日常穿著到電影《花樣年華》中的經典形象，長衫記錄了香港社會的變遷。","en":"The cheongsam rose to popularity in Shanghai in the 1920s and was later brought to Hong Kong by a large number of Shanghainese tailors, where it was further developed. From daily wear to the iconic images in the film In the Mood for Love, the cheongsam has recorded the changes in Hong Kong society."},"story":{"zh":"王師傅從16歲開始跟隨父親學習製作長衫，至今已有50個年頭。他堅持為每一位客人量身定做，從選料、畫樣、裁剪到縫製、盤扣，每一個步驟都親力為。他說，一件好的長衫是有生命的，能陪伴主人度過許多重要時刻。","en":"Master Wong began learning to make cheongsams from his father at the age of 16 and has been doing it for 50 years. He insists on custom-tailoring for every client, handling every step himself, from fabric selection and pattern drawing to cutting, sewing, and knot buttons. He says a good cheongsam has a life of its own and can accompany its owner through many important moments."}},{"craftId":5,"name":{"zh":"活字印刷 (Letterpress)","en":"Letterpress Printing"},"artisan":{"zh":"李師傅","en":"Master Lee"},"short_description":{"zh":"感受油墨與紙張的溫度","en":"Feel the warmth of ink and paper"},"full_description":{"zh":"活字印刷是一種古老的印刷技術，透過將凸起的鉛字或圖案壓印在紙張上，留下深刻而有質感的印記。每一個字、每一條線條都充滿了手工的溫度與不完美的美。","en":"Letterpress printing is an ancient printing technique that creates a deep, tactile impression by pressing raised type or images onto paper. Every character and line is filled with the warmth of handcraft and the beauty of imperfection."},"images":["https://images.unsplash.com/photo-1653888702916-599a590837c2"],"history":{"zh":"活字印刷術由畢昇發明，後經古騰堡改良傳至西方。在數碼印刷興起前，它是書籍、報紙和各種印刷品的主要生產方式。香港的印刷業曾十分輝煌，許多小型印刷廠都以活字印刷為生。","en":"Invented by Bi Sheng and later refined by Gutenberg in the West, letterpress was the primary method for producing books, newspapers, and other printed materials before the rise of digital printing. Hong Kong printing industry was once glorious, with many small print shops relying on letterpress."},"story":{"zh":"李師傅的印刷廠是他父親留下來的。面對數碼時代的衝擊，他沒有放棄，反而將傳統工藝轉化為一種藝術體驗。他開放工作室，舉辦工作坊，讓更多人能親手操作沉重的印刷機，感受鉛字的重量和油墨的芳香，重新發現慢下來的美好。","en":"Master Lee printing press was passed down from his father. Facing the challenges of the digital age, he did not give up. Instead, he transformed the traditional craft into an artistic experience. He opened his studio for workshops, allowing people to operate the heavy machinery, feel the weight of lead type, and smell the ink, rediscovering the beauty of slowing down."},"category":"letterpress"}]}'

echo ""
echo "Uploading ARTISANS data..."
npx convex run insertData:insertData '{"table": "artisans", "data": [{"artisanId":1,"name":{"zh":"張師傅","en":"Master Zhang"},"bio":"廣彩世家第三代傳人，致力於將現代設計融入傳統工藝。","image":"https://picsum.photos/seed/artisan1/200/200","craftIds":[1]},{"artisanId":2,"name":{"zh":"劉師傅","en":"Master Lau"},"bio":"四十年經驗的霓虹燈藝術家，堅持傳統手工製作。","image":"https://picsum.photos/seed/artisan2/200/200","craftIds":[2]},{"artisanId":3,"name":{"zh":"陳師傅","en":"Master Chan"},"bio":"香港碩果僅存的手雕麻雀師傅之一，守護著香港人的集體回憶。","image":"https://picsum.photos/seed/artisan3/200/200","craftIds":[3]},{"artisanId":4,"name":{"zh":"王師傅","en":"Master Wong"},"bio":"五十年經驗的海派長衫裁縫，相信每一件長衫都有生命。","image":"https://picsum.photos/seed/artisan4/200/200","craftIds":[4]},{"artisanId":5,"name":{"zh":"李師傅","en":"Master Lee"},"bio":"堅守傳統活字印刷的工匠，將舊技術轉化為新時代的藝術體驗。","image":"https://picsum.photos/seed/artisan5/200/200","craftIds":[5]}]}'

echo ""
echo "Uploading FACE PROFILES data..."
npx convex run insertData:insertData '{"table": "faceProfiles", "data": [{"profileId":"1","label":{"zh":"預設","en":"Default"},"imageUrl":"/images/faces/face1.jpg","source":"preset","createdAt":"2024-01-10T08:00:00.000Z"},{"profileId":"4","label":{"zh":"LinkedIn","en":"LinkedIn"},"imageUrl":"/images/faces/face4.jpeg","source":"preset","createdAt":"2024-01-11T12:00:00.000Z"}]}'

echo ""
echo "Uploading GLYPHS data..."
npx convex run insertData:insertData '{"table": "glyphs", "data": [{"name":"手","glyph":"shou"},{"name":"田","glyph":"tian"},{"name":"水","glyph":"shui"},{"name":"口","glyph":"kou"},{"name":"廿","glyph":"nian"},{"name":"卜","glyph":"bu"},{"name":"山","glyph":"shan"},{"name":"戈","glyph":"ge"},{"name":"人","glyph":"ren"},{"name":"心","glyph":"xin"},{"name":"日","glyph":"ri"},{"name":"尸","glyph":"shi"},{"name":"木","glyph":"mu"},{"name":"火","glyph":"huo"},{"name":"土","glyph":"tu"},{"name":"竹","glyph":"zhu"},{"name":"大","glyph":"da"},{"name":"中","glyph":"zhong"},{"name":"金","glyph":"jin"},{"name":"女","glyph":"nu"},{"name":"月","glyph":"yue"},{"name":"弓","glyph":"gong"},{"name":"一","glyph":"heng"},{"name":"丨","glyph":"shu"},{"name":"丿","glyph":"pie"},{"name":"㇏","glyph":"na"},{"name":"㇔","glyph":"dian"},{"name":"𠃋","glyph":"ti"}]}'

echo ""
echo "Core data upload completed!"
